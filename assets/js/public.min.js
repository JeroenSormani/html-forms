"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(){var t=void 0;!function e(n,r,o){function i(s,u){if(!r[s]){if(!n[s]){var l="function"==typeof t&&t;if(!u&&l)return l(s,!0);if(a)return a(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var f=r[s]={exports:{}};n[s][0].call(f.exports,function(t){var e=n[s][1][t];return i(e||t)},f,f.exports,e,n,r,o)}return r[s].exports}for(var a="function"==typeof t&&t,s=0;s<o.length;s++)i(o[s]);return i}({1:[function(t,e,n){function r(t){return t.innerHTML?t.innerHTML:t.value}function o(t,e){t.innerHTML?t.innerHTML=e:t.value=e}function i(t){this.form=t,this.button=t.querySelector('input[type="submit"], button[type="submit"]'),this.loadingInterval=0,this.character="Â·",this.button&&(this.originalButton=this.button.cloneNode(!0))}i.prototype.setCharacter=function(t){this.character=t},i.prototype.start=function(){if(this.button){var t=this.button.getAttribute("data-loading-text");if(t)return void o(this.button,t);var e=window.getComputedStyle(this.button);this.button.style.width=e.width,o(this.button,this.character),this.loadingInterval=window.setInterval(this.tick.bind(this),500)}else this.form.style.opacity="0.5"},i.prototype.tick=function(){var t=r(this.button),e=this.character;o(this.button,t.length>=5?e:t+" "+e)},i.prototype.stop=function(){if(this.button){this.button.style.width=this.originalButton.style.width;var t=r(this.originalButton);o(this.button,t),window.clearInterval(this.loadingInterval)}else this.form.style.opacity=""},e.exports=i},{}],2:[function(t,e,n){function r(t){t.querySelectorAll(".hf-message").forEach(function(t){t.parentNode.removeChild(t)})}function o(t,e){var n=document.createElement("p");n.className="hf-message hf-message-"+e.type,n.innerHTML=e.text,t.insertBefore(n,t.firstElementChild)}var i=t("form-serialize"),a=t("./form-loading-indicator.js"),s=window.hf_js_vars||{ajax_url:window.location.href};document.addEventListener("submit",function(t){var e=t.target;if(!(e.className.indexOf("hf-form")<0)){t.preventDefault();var n=new a(e),u=i(e),l=new XMLHttpRequest;r(e),n.start(),l.onreadystatechange=function(){var t=void 0;if(4===this.readyState)if(n.stop(),this.status>=200&&this.status<400){try{t=JSON.parse(this.responseText)}catch(t){return void console.log('HTML Forms: failed to parse AJAX response.\n\nError: "'+t+'"')}t.message&&o(e,t.message),t.hide_form&&(e.querySelector(".hf-fields-wrap").style.display="none"),t.redirect_url&&(window.location=t.redirect_url)}else console.log(this.responseText)},l.open("POST",s.ajax_url,!0),l.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),l.send(u),l=null}},!0)},{"./form-loading-indicator.js":1,"form-serialize":3}],3:[function(t,e,n){function r(t,e){"object"!=(void 0===e?"undefined":_typeof(e))?e={hash:!!e}:void 0===e.hash&&(e.hash=!0);for(var n=e.hash?{}:"",r=e.serializer||(e.hash?a:s),o=t&&t.elements?t.elements:[],i=Object.create(null),c=0;c<o.length;++c){var f=o[c];if((e.disabled||!f.disabled)&&f.name&&(l.test(f.nodeName)&&!u.test(f.type))){var h=f.name,p=f.value;if("checkbox"!==f.type&&"radio"!==f.type||f.checked||(p=void 0),e.empty){if("checkbox"!==f.type||f.checked||(p=""),"radio"===f.type&&(i[f.name]||f.checked?f.checked&&(i[f.name]=!0):i[f.name]=!1),void 0==p&&"radio"==f.type)continue}else if(!p)continue;if("select-multiple"!==f.type)n=r(n,h,p);else{p=[];for(var d=f.options,y=!1,m=0;m<d.length;++m){var v=d[m],b=e.empty&&!v.value,g=v.value||b;v.selected&&g&&(y=!0,n=e.hash&&"[]"!==h.slice(h.length-2)?r(n,h+"[]",v.value):r(n,h,v.value))}!y&&e.empty&&(n=r(n,h,""))}}}if(e.empty)for(var h in i)i[h]||(n=r(n,h,""));return n}function o(t){var e=[],n=/^([^\[\]]*)/,r=new RegExp(c),o=n.exec(t);for(o[1]&&e.push(o[1]);null!==(o=r.exec(t));)e.push(o[1]);return e}function i(t,e,n){if(0===e.length)return t=n;var r=e.shift(),o=r.match(/^\[(.+?)\]$/);if("[]"===r)return t=t||[],Array.isArray(t)?t.push(i(null,e,n)):(t._values=t._values||[],t._values.push(i(null,e,n))),t;if(o){var a=o[1],s=+a;isNaN(s)?(t=t||{},t[a]=i(t[a],e,n)):(t=t||[],t[s]=i(t[s],e,n))}else t[r]=i(t[r],e,n);return t}function a(t,e,n){if(e.match(c))i(t,o(e),n);else{var r=t[e];r?(Array.isArray(r)||(t[e]=[r]),t[e].push(n)):t[e]=n}return t}function s(t,e,n){return n=n.replace(/(\r)?\n/g,"\r\n"),n=encodeURIComponent(n),n=n.replace(/%20/g,"+"),t+(t?"&":"")+encodeURIComponent(e)+"="+n}var u=/^(?:submit|button|image|reset|file)$/i,l=/^(?:input|select|textarea|keygen)/i,c=/(\[[^\[\]]*\])/g;e.exports=r},{}]},{},[2])}();
//# sourceMappingURL=public.min.js.map
